(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{134:function(e,t,s){Promise.resolve().then(s.bind(s,2944)),Promise.resolve().then(s.t.bind(s,8173,23)),Promise.resolve().then(s.t.bind(s,6524,23)),Promise.resolve().then(s.bind(s,2650)),Promise.resolve().then(s.bind(s,6394)),Promise.resolve().then(s.bind(s,4259)),Promise.resolve().then(s.bind(s,3561)),Promise.resolve().then(s.bind(s,8211)),Promise.resolve().then(s.bind(s,3215)),Promise.resolve().then(s.t.bind(s,1983,23))},2650:function(e,t,s){"use strict";s.d(t,{Providers:function(){return n}});var a=s(7437),r=s(5169),l=s(998);function n({children:e}){return(0,a.jsx)(l.SessionProvider,{children:(0,a.jsx)(r.f,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:e})})}},6394:function(e,t,s){"use strict";s.d(t,{default:function(){return l}});var a=s(7437),r=s(2265);function l({text:e,className:t=""}){let[s,l]=(0,r.useState)(!1),n=async()=>{try{await navigator.clipboard.writeText(e),l(!0),setTimeout(()=>l(!1),2e3)}catch(e){console.error("复制失败:",e)}};return(0,a.jsx)("button",{onClick:n,className:`flex items-center gap-1 rounded-lg bg-transparent px-2 py-1 text-xs text-gray-500 transition-all duration-300 hover:bg-gray-100 hover:text-gray-700 ${t}`,title:"复制文案",children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fa fa-check text-green-600"}),(0,a.jsx)("span",{className:"text-xs",children:"已复制"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fa fa-copy text-xs"}),(0,a.jsx)("span",{className:"text-xs",children:"复制"})]})})}},4259:function(e,t,s){"use strict";s.d(t,{default:function(){return c}});var a=s(7437),r=s(2265),l=s(6648),n=s(7138),i=s(6463),o=s(3561);function c({contributorsCount:e}){let[t,s]=(0,r.useState)(!1),c=(0,i.usePathname)(),d=()=>{s(!1)},h=[{label:"文案仓库",href:"/jokes"},{label:"系统状态",href:"/status"}];return(0,a.jsx)("header",{className:"sticky top-0 z-50 border-b-4 border-black bg-kfc-red text-white shadow-neo-sm",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 md:py-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("button",{type:"button",className:"flex h-10 w-10 flex-col items-center justify-center gap-1 border-2 border-black bg-white shadow-neo-sm transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none lg:hidden",onClick:()=>{s(!t)},"aria-label":"切换菜单",children:[(0,a.jsx)("span",{className:`h-1 w-6 bg-black transition-all ${t?"translate-y-2 rotate-45":""}`}),(0,a.jsx)("span",{className:`h-1 w-6 bg-black transition-all ${t?"opacity-0":""}`}),(0,a.jsx)("span",{className:`h-1 w-6 bg-black transition-all ${t?"-translate-y-2 -rotate-45":""}`})]}),(0,a.jsxs)(n.default,{href:"/",className:"group flex items-center gap-2",children:[(0,a.jsx)("div",{className:"border-2 border-black bg-white p-0.5 shadow-neo-sm transition-transform group-hover:-rotate-3",children:(0,a.jsx)(l.default,{src:"/images/logo.jpg",alt:"KFC",width:44,height:44,className:"h-9 w-9 object-cover lg:h-11 lg:w-11"})}),(0,a.jsxs)("div",{className:"hidden flex-col leading-none sm:flex",children:[(0,a.jsxs)("h1",{className:"text-xl font-black italic tracking-tighter text-white drop-shadow-[2px_2px_0px_rgba(0,0,0,1)] lg:text-2xl",children:["疯狂星期四",(0,a.jsx)("span",{className:"text-kfc-yellow",children:"VME50"})]}),(0,a.jsx)("p",{className:"text-[10px] font-bold uppercase tracking-widest text-white/90",children:"Crazy Thursday News Portal"})]})]})]}),(0,a.jsx)("nav",{className:"hidden items-center gap-3 lg:flex",children:h.map(e=>{let t=c===e.href||"/"!==e.href&&c?.startsWith(e.href);return(0,a.jsx)(n.default,{href:e.href,className:`border-2 border-black px-4 py-1.5 text-sm font-black transition-all hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-none ${t?"bg-kfc-yellow text-black shadow-neo-sm":"bg-white text-black shadow-neo-sm hover:bg-gray-50"}`,children:e.label},e.href)})}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsx)(o.default,{})})]}),(0,a.jsx)("div",{className:`border-t-4 border-black bg-kfc-cream lg:hidden ${t?"block":"hidden"}`,style:{animation:t?"slideDown 0.3s ease-out":"none"},children:(0,a.jsxs)("nav",{className:"flex flex-col gap-2 p-4",children:[(0,a.jsx)(n.default,{href:"/",onClick:d,className:`block border-2 border-black px-4 py-3 text-sm font-black text-black shadow-neo-sm active:translate-x-[2px] active:translate-y-[2px] active:shadow-none ${"/"===c?"bg-kfc-yellow":"bg-white"}`,children:"首页"}),h.map(e=>{let t=c===e.href||"/"!==e.href&&c?.startsWith(e.href);return(0,a.jsx)(n.default,{href:e.href,onClick:d,className:`block border-2 border-black px-4 py-3 text-sm font-black text-black shadow-neo-sm active:translate-x-[2px] active:translate-y-[2px] active:shadow-none ${t?"bg-kfc-yellow":"bg-white"}`,children:e.label},e.href)}),(0,a.jsxs)("div",{className:"mt-2 border-2 border-black bg-kfc-red px-4 py-2 text-xs font-bold text-white shadow-neo-sm",children:[(0,a.jsx)("span",{className:"text-kfc-yellow",children:e})," ","位 \uD83C\uDF57 信徒在线"]})]})})]})})}},3561:function(e,t,s){"use strict";s.d(t,{default:function(){return n}});var a=s(7437),r=s(998),l=s(6648);function n(){let{data:e,status:t}=(0,r.useSession)();return"loading"===t?(0,a.jsxs)("div",{className:"flex items-center gap-2 rounded-full bg-white/10 px-3 py-2",children:[(0,a.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-kfc-yellow border-t-transparent"}),(0,a.jsx)("span",{className:"text-sm text-white",children:"加载中..."})]}):e?(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 rounded-full bg-white/10 px-3 py-2",children:[(0,a.jsx)(l.default,{src:e.user?.image||"/default-avatar.png",alt:"用户头像",width:24,height:24,className:"h-6 w-6 rounded-full border border-kfc-yellow"}),(0,a.jsx)("span",{className:"max-w-[80px] truncate text-sm font-medium text-white sm:max-w-[120px]",children:e.user?.username})]}),(0,a.jsx)("button",{onClick:()=>(0,r.signOut)(),className:"min-h-[36px] rounded-full bg-white/10 px-3 py-2 text-sm font-medium text-white transition-colors hover:bg-white/20",children:"退出登录"})]}):(0,a.jsxs)("button",{onClick:()=>(0,r.signIn)("github"),className:"flex items-center gap-2 rounded-full bg-kfc-yellow px-4 py-2 text-sm font-bold text-kfc-red transition-all duration-300 hover:bg-kfc-lightYellow hover:shadow-md shadow-sm",children:[(0,a.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),"登录"]})}},8211:function(e,t,s){"use strict";s.d(t,{showLoginDialog:function(){return h}});var a=s(7437),r=s(998),l=s(2265),n=s(4040);class i{ensureContainer(){return this.container||(this.container=document.createElement("div"),this.container.id="modal-container",document.body.appendChild(this.container)),this.container}render(){let e=this.ensureContainer();this.root||(this.root=(0,n.createRoot)(e));let t=Array.from(this.modals.entries());t.length>0?(document.body.style.overflow="hidden",document.body.style.paddingRight="0px"):(document.body.style.overflow="",document.body.style.paddingRight=""),this.root.render((0,a.jsx)(a.Fragment,{children:t.map(([e,t],s)=>(0,a.jsx)(c,{id:e,config:t,zIndex:t.zIndex||this.baseZIndex+10*s,onClose:()=>this.close(e)},e))}))}open(e){let t=`modal-${Date.now()}-${Math.random()}`;return this.modals.set(t,e),this.render(),{close:()=>this.close(t),update:e=>this.update(t,e)}}close(e){let t=this.modals.get(e);t?.onClose&&t.onClose(),this.modals.delete(e),this.render()}update(e,t){let s=this.modals.get(e);s&&(this.modals.set(e,{...s,content:t}),this.render())}closeAll(){this.modals.clear(),this.render()}constructor(){this.container=null,this.root=null,this.modals=new Map,this.baseZIndex=9999}}let o=new i;function c({id:e,config:t,zIndex:s,onClose:r}){let{content:n,closeOnBackdrop:i=!0,closeOnEsc:o=!0}=t;return(0,l.useEffect)(()=>{if(!o)return;let e=e=>{"Escape"===e.key&&r()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[o,r]),(0,a.jsx)("div",{"data-modal":"true","data-modal-id":e,className:"fixed inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm px-4 animate-in fade-in duration-200",style:{zIndex:s},onClick:e=>{i&&e.target===e.currentTarget&&r()},children:n})}function d({onClose:e,title:t="需要登录",message:s="此操作需要登录 GitHub 账号，是否现在登录？"}){let[n,i]=(0,l.useState)(!1),o=async()=>{i(!0);try{await (0,r.signIn)("github",{callbackUrl:window.location.href})}catch(e){console.error("登录失败:",e),i(!1)}};return(0,a.jsxs)("div",{className:"relative w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl animate-in zoom-in duration-200",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("button",{onClick:e,className:"absolute right-4 top-4 text-gray-400 transition-colors hover:text-gray-600",disabled:n,children:(0,a.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,a.jsx)("div",{className:"mb-4 flex justify-center",children:(0,a.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-kfc-red to-orange-500",children:(0,a.jsx)("svg",{className:"h-8 w-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})})})}),(0,a.jsx)("h3",{className:"mb-3 text-center text-2xl font-bold text-gray-900",children:t}),(0,a.jsx)("p",{className:"mb-6 text-center text-gray-600",children:s}),(0,a.jsx)("div",{className:"mb-6 rounded-lg bg-blue-50 p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("svg",{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,a.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,a.jsx)("p",{className:"mb-1 font-medium",children:"登录后您可以："}),(0,a.jsxs)("ul",{className:"space-y-1 text-blue-700",children:[(0,a.jsx)("li",{children:"• 给喜欢的文案点赞"}),(0,a.jsx)("li",{children:"• 提交自己的创意文案"}),(0,a.jsx)("li",{children:"• 参与社区互动"})]})]})]})}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:e,disabled:n,className:"flex-1 rounded-lg border border-gray-300 bg-white px-4 py-3 font-medium text-gray-700 transition-colors hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",children:"取消"}),(0,a.jsx)("button",{onClick:o,disabled:n,className:"flex-1 rounded-lg bg-gradient-to-r from-kfc-red to-orange-500 px-4 py-3 font-bold text-white shadow-lg transition-all hover:scale-105 hover:shadow-xl disabled:scale-100 disabled:cursor-not-allowed disabled:opacity-50",children:n?(0,a.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"登录中..."]}):"使用 GitHub 登录"})]})]})}function h(e={}){let t=o.open({content:(0,a.jsx)(d,{onClose:()=>{t.close(),e.onClose?.()},title:e.title,message:e.message}),closeOnBackdrop:!0,closeOnEsc:!0});return t}},3215:function(e,t,s){"use strict";s.d(t,{default:function(){return n}});var a=s(7437),r=s(7138),l=s(6463);function n({currentPage:e,totalPages:t,totalItems:s,pageSize:n}){let i=(0,l.useSearchParams)();if(t<=1)return null;let o=(()=>{let s=[];if(t<=3)for(let e=1;e<=t;e++)s.push(e);else{let a=Math.floor(1.5);if(e<=a+1)for(let e=1;e<=3;e++)s.push(e);else if(e>=t-a)for(let e=t-3+1;e<=t;e++)s.push(e);else for(let t=e-a;t<=e+a;t++)s.push(t)}return s})(),c=e=>{let t=new URLSearchParams(i.toString());return t.set("page",e.toString()),`?${t.toString()}`};return(0,a.jsxs)("div",{className:"mt-12 border-t-2 border-black pt-8",children:[(0,a.jsxs)("div",{className:"mb-6 flex flex-col items-center justify-between gap-4 sm:flex-row",children:[(0,a.jsxs)("div",{className:"text-sm font-bold uppercase text-black",children:["Showing"," ",(0,a.jsx)("span",{className:"bg-kfc-yellow px-1",children:(e-1)*n+1})," ","-",(0,a.jsx)("span",{className:"bg-kfc-yellow px-1",children:Math.min(e*n,s)})," ","of"," ",(0,a.jsx)("span",{className:"font-black text-kfc-red",children:s})]}),(0,a.jsxs)("div",{className:"text-sm font-bold uppercase text-black",children:["Page ",e," / ",t]})]}),(0,a.jsx)("nav",{className:"flex justify-center",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e>1?(0,a.jsx)(r.default,{scroll:!1,href:c(e-1),className:"flex min-h-[44px] min-w-[44px] items-center justify-center border-2 border-black bg-white text-black shadow-neo-sm transition-all hover:translate-x-[2px] hover:translate-y-[2px] hover:bg-black hover:text-white hover:shadow-none",children:(0,a.jsx)("i",{className:"fa fa-chevron-left text-sm"})}):(0,a.jsx)("div",{className:"flex min-h-[44px] min-w-[44px] cursor-not-allowed items-center justify-center border-2 border-black bg-gray-100 text-gray-400 opacity-50 shadow-neo-sm",children:(0,a.jsx)("i",{className:"fa fa-chevron-left text-sm"})}),o[0]>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.default,{scroll:!1,href:c(1),className:"flex min-h-[44px] min-w-[44px] items-center justify-center border-2 border-black bg-white font-black text-black shadow-neo-sm transition-all hover:translate-x-[2px] hover:translate-y-[2px] hover:bg-black hover:text-white hover:shadow-none",children:"1"}),o[0]>2&&(0,a.jsx)("span",{className:"flex min-h-[44px] min-w-[44px] items-center justify-center font-black text-black",children:"..."})]}),o.map(t=>(0,a.jsx)(r.default,{scroll:!1,href:c(t),className:`flex min-h-[44px] min-w-[44px] items-center justify-center border-2 border-black font-black shadow-neo-sm transition-all hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-none ${e===t?"bg-kfc-red text-white":"bg-white text-black hover:bg-black hover:text-white"}`,children:t},t)),o[o.length-1]<t&&(0,a.jsxs)(a.Fragment,{children:[o[o.length-1]<t-1&&(0,a.jsx)("span",{className:"flex min-h-[44px] min-w-[44px] items-center justify-center font-black text-black",children:"..."}),(0,a.jsx)(r.default,{scroll:!1,href:c(t),className:"flex min-h-[44px] min-w-[44px] items-center justify-center border-2 border-black bg-white font-black text-black shadow-neo-sm transition-all hover:translate-x-[2px] hover:translate-y-[2px] hover:bg-black hover:text-white hover:shadow-none",children:t})]}),e<t?(0,a.jsx)(r.default,{scroll:!1,href:c(e+1),className:"flex min-h-[44px] min-w-[44px] items-center justify-center border-2 border-black bg-white text-black shadow-neo-sm transition-all hover:translate-x-[2px] hover:translate-y-[2px] hover:bg-black hover:text-white hover:shadow-none",children:(0,a.jsx)("i",{className:"fa fa-chevron-right text-sm"})}):(0,a.jsx)("div",{className:"flex min-h-[44px] min-w-[44px] cursor-not-allowed items-center justify-center border-2 border-black bg-gray-100 text-gray-400 opacity-50 shadow-neo-sm",children:(0,a.jsx)("i",{className:"fa fa-chevron-right text-sm"})})]})})]})}},1983:function(){}},function(e){e.O(0,[506,231,173,693,971,23,744],function(){return e(e.s=134)}),_N_E=e.O()}]);